import { Meta, Story, Canvas } from '@storybook/addon-docs';
import getFilteredTokens from './get-filtered-tokens';
import tokens from '../app/spot/styles/tokens/dist/tokens.json';

export const ColorsPreview = ({ tokens }) => <div className="colors">
  {Object.keys(tokens).filter(key => key.startsWith('spot-color-')).map(name => (
    <div
      className="colors--color"
      key={name}
    >
      <div
        className="colors--preview"
        style={{ 'backgroundColor': tokens[name] }}
      />
      <div className="colors--name">${name}</div>
      <div className="colors--value">{tokens[name]}</div>
    </div>
  ))}
</div>;

<Meta title="Styles/Colors" />

# Colors (WIP)

**Note: These colours are neither completely implemented nor used in code. This remains a work in progress.**

Because OpenProject can be customised with custom colour schemes, our foundation library only describe the colour palette of the default OpenProject theme. 

Colours are organised in this format: **Category/_name_**.

There there are six categories: 

- **Basic**
- **Main**
- **Accent**
- **Danger**
- **Indication**
- **Feedback**

## Basic

The basic colour set include eight shades of gray used mostly for basic text and backgrounds. The shades do not have additional semantic significance are are simply a continuum between **Basic/_Black_** and **Basic/_White_**. 

The choice of which gray to use depends on the colourspace. 

Note: **Basic/_Gray-1_** is the default colour for "black" text.

<ColorsPreview tokens={getFilteredTokens(tokens, (name) => name.startsWith('spot-color-basic-gray-'))}></ColorsPreview>

## Main

The **Main/** colourset is a set of three shades of the OpenProject blue.

**Main/_Main_**

<ColorsPreview tokens={getFilteredTokens(tokens, (name) => name === 'spot-color-main')}></ColorsPreview>

This is the primary blue used for all main interactions and action buttons, including text links. 

It is also used in the background of the header. 

**Main/_Main Dark_**

<ColorsPreview tokens={getFilteredTokens(tokens, (name) => name === 'spot-color-main-dark')}></ColorsPreview>

This darker version of the main blue is mainly used:

- to communicate state information (a hover or a pressed state of a button, for example)
- when the use of **Main/_Main_** does not provide enough contrast (for a border colour, for example)

**Main/_Main Light_**

<ColorsPreview tokens={getFilteredTokens(tokens, (name) => name === 'spot-color-main-light')}></ColorsPreview>

This lighter version of the main blue is used:

- to communicate state information (hover on dop-down list or indicating selected toggle element, for example)
- as a background colour of interactive elements (tooltip, toast or information banners)

## Accent

The **Accent/** colourset is a set of three shades of green that is used to accent certain special functions. This colour should be used sparingly, so that when it is used, it draws the user’s eye.

**Accent/_Accent_**

<ColorsPreview tokens={getFilteredTokens(tokens, (name) => name === 'spot-color-accent')}></ColorsPreview>

This is the primary accent green, used for example in the default state of an accent button. 

**Accent/_Accent Dark_**

<ColorsPreview tokens={getFilteredTokens(tokens, (name) => name === 'spot-color-accent-dark')}></ColorsPreview>

This darker version is mainly used:

- to communicate state information (a hover or a pressed state of a button, for example)
- when the use of **Accent/Main** does not provide enough contrast (for a border colour, for example)


**Accent/_Accent Light_**

<ColorsPreview tokens={getFilteredTokens(tokens, (name) => name === 'spot-color-accent-light')}></ColorsPreview>

This lighter version of the main green is used:

- to communicate state information (hover on dop-down list or indicating selected toggle element, for example)
- as a background colour of interactive elements (tooltip, toast or information banners)

## Danger

The **Danger/** colourset is a set of three shades of red used to communicate potential danger to the user, or to warn them of a problem. 

It should also be used to indicate potential destructive actions (actions like delete account or delete user) and exceptionally also used to indicate information (like in a notification badge) when the Indication/ colours cannot be used.

**Danger/_Danger_**

<ColorsPreview tokens={getFilteredTokens(tokens, (name) => name === 'spot-color-danger')}></ColorsPreview>

This is the primary danger red, used for example in the default state of an accent button. 

**Danger/_Danger Dark_**

<ColorsPreview tokens={getFilteredTokens(tokens, (name) => name === 'spot-color-danger-dark')}></ColorsPreview>

This darker version is mainly used:

- to communicate state information (a hover or a pressed state of a button, for example)
- when the use of **Danger/Danger** does not provide enough contrast (for a border colour, for example)

**Danger/_Danger Light_**

<ColorsPreview tokens={getFilteredTokens(tokens, (name) => name === 'spot-color-danger-light')}></ColorsPreview>

This darker version of the main danger red is used:

- to communicate state information (hover on dop-down list or indicating selected toggle element, for example)
- as a background colour of interactive elements (tooltip, toast or information banners)

## Indication

Indication colours are used to indicate certain special states.

**Indication/_Focus_**

<ColorsPreview tokens={getFilteredTokens(tokens, (name) => name === 'spot-color-indication-focus')}></ColorsPreview>

Focus is used as the global focus color. All elements that receive focus will get an outline with this colors.

**Indication/_Enterprise_**

<ColorsPreview tokens={getFilteredTokens(tokens, (name) => name === 'spot-color-indication-enterprise')}></ColorsPreview>

Enterprise is used to indicate enterprise features. This is usually the enterprise icon.

**Indication/_Flagged_**

<ColorsPreview tokens={getFilteredTokens(tokens, (name) => name === 'spot-color-indication-flagged')}></ColorsPreview>

This colour is used when “flagging” work packages. It is a teal colour meant to be distinct from **Indication/_Attention_**.

**Indication/_Current date_**

<ColorsPreview tokens={getFilteredTokens(tokens, (name) => name === 'spot-color-indication-current-date')}></ColorsPreview>

This colour is used to indicate the current date (today) in a calendar.

## Feedback

The **Feedback/**-  colors are used to communicate for user feedback:

- Error
- Warning
- Info
- Success

Each of these has two versions (Dark and Light), the dark one usually used for the foreground text and icons and the light one for the background.

These are typically used in toast messages.

**Feedback/_Error_**

<ColorsPreview tokens={getFilteredTokens(tokens, (name) => name.startsWith('spot-color-feedback-error'))}></ColorsPreview>

This colour indicates that a response that is different from what the user would have expected. The user flow is usually interrupted when they see an error of this type.

**Feedback/_Warning_**

<ColorsPreview tokens={getFilteredTokens(tokens, (name) => name.startsWith('spot-color-feedback-warning'))}></ColorsPreview>

The warning is information that suggests something requires attention (and that could cause a problem), but that no error has been caused, and that the expected user flow can continue.

**Feedback/_Info_**

<ColorsPreview tokens={getFilteredTokens(tokens, (name) => name.startsWith('spot-color-feedback-info'))}></ColorsPreview>

This colour is used to indicate additional information that could be of interest to the user. (Like a toast that says “Loading...”, indicating something is happening in the background)

**Feedback/_Success_**

<ColorsPreview tokens={getFilteredTokens(tokens, (name) => name.startsWith('spot-color-feedback-success'))}></ColorsPreview>

This colour indicates that the requested user action was successful. It should be used sparingly and only when such a feedback is absolutely required.


<style>
{`
.colors {
  display: flex;
  flex-wrap: wrap;
  margin-right: -1rem;
}

.colors--color {
  border-radius: 2px;
  border: 1px solid #eeeeee;
  margin-bottom: 1rem;
  margin-right: 1rem;
  display: flex;
  flex-direction: column;
  flex-basis: 200px;
  flex-grow: 1;
  flex-shrink: 1;
  min-width: 150px;
  max-width: 400px;
  text-align: center;
}

.colors--preview {
  flex-basis: 200px;
}

.colors--name {
  font-weight: bold;
  padding: 0.3rem;
}

.colors--value {
  padding: 0.3rem;
  padding-top: 0rem;
}
`}
</style>
